@import url('https://fonts.googleapis.com/css2?family=Instrument+Serif&display=swap');

/* --- NEW: Main Offcanvas Sidebar (Light Theme) --- */
#transcriptOffcanvas {
    background-color: #ffffff;
    color: #333333;
    font-family: 'Fira Code', 'Courier New', monospace;
}

/* --- UPDATED: Offcanvas Header (Purple Theme) --- */
#transcriptOffcanvas .offcanvas-header {
    background-color: #9370DB; /* Purple background */
    border-bottom: 1px solid #6f42c1/* Darker purple border */
}

/* --- UPDATED: Offcanvas Title (Purple Theme) --- */
#transcriptOffcanvas .offcanvas-title {
    font-family: 'Instrument Serif', serif;
    color: #ffffff; /* White text and icon */
    font-size: 1.75rem;
    margin: 0;
}

/* --- UPDATED: Offcanvas Close Button (Purple Theme) --- */
#transcriptOffcanvas .btn-close {
    /* This filter makes the default Bootstrap icon white */
    filter: invert(1) grayscale(100%) brightness(200%);
}
/* --- END OF HEADER UPDATES --- */


/* --- NEW: Offcanvas Body --- */
#transcriptOffcanvas .offcanvas-body {
    padding: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden; 
}

/* * --- UPDATED: Pinned view for the current line ---
 * This section is now styled as the animated "card"
*/
#transcript-pinned-view {
    flex-shrink: 0;
    position: relative;
    display: flex; /* Using flex to center content */
    place-items: center;
    overflow: hidden;
    border-radius: 10px;
    background: #fdfcff; /* A very light purple-white */
    margin: 0.75rem; /* Add some margin */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
}

/* --- THIS BLOCK IS UPDATED --- */
/* This is the rotating gradient */
#transcript-pinned-view::before {
    content: '';
    position: absolute;
    z-index: 1;

    /* 1. Create the "comet" shape (narrow and tall) */
    width: 150px;
    height: 150%;
    
    /* 2. Position the element's top-left corner at the card's center */
    top: 50%;
    left: 50%;

    /* 3. Use translate() to pull the element's *center*
          onto the card's center. This is the key. */
    transform: translate(-50%, -50%);

    /* 4. Your gradient and animation */
    background-image: linear-gradient(180deg, #9370DB, #6f42c1);
    animation: rotBGimg 4s linear infinite;
    transition: all 0.4s linear;
}

/* This is the inner content background */
#transcript-pinned-view::after {
    content: '';
    position: absolute;
    background: #ffffff; /* Use solid white for the inside */
    inset: 4px; /* This creates the 4px "border" */
    border-radius: 7px; /* Must be smaller than parent's 10px */
    z-index: 2;
}

/* This is the text content */
#transcript-current-line {
    line-height: 1.6;
    font-size: 0.95rem;
    position: relative; /* Make sure it's on top */
    z-index: 3; /* Sits on top of the ::after element */
    padding: 1rem; /* Padding for the text */
    width: 100%; /* Ensure it spans the full card */
}

#transcript-current-line .transcript-timestamp {
    color: #9370DB;
    font-weight: bold;
    margin-right: 0.75rem;
}

#transcript-current-line .text-content {
    color: #000000;
    font-weight: 500;
}
/* --- END OF UPDATED STYLES --- */


/* --- This is the scrollable content area --- */
#transcript-content {
    flex-grow: 1;
    overflow-y: auto;
    background-color: #ffffff;
}

/* --- Scrollbar Styling (Light Theme) --- */
#transcript-content::-webkit-scrollbar {
    width: 8px;
}

#transcript-content::-webkit-scrollbar-track {
    background: #f1f1f1;
}

#transcript-content::-webkit-scrollbar-thumb {
    background-color: #c1c1c1;
    border-radius: 4px;
}

/* --- Styles for transcript lines --- */
.transcript-line {
    line-height: 1.6;
    padding: 0.75rem 1rem;
    transition: background-color 0.2s ease;
}

.transcript-line:nth-child(even) {
    background-color: #f9f9f9;
}

.transcript-line .transcript-timestamp {
    color: #9370DB; /* Purple timestamp */
    font-weight: bold;
    margin-right: 0.75rem;
}

.transcript-line .text-content {
    color: #333333;
}

.transcript-line:hover {
    background-color: #eeeeee;
    border-radius: 4px;
    cursor: pointer;
}

.transcript-line:hover .text-content {
    color: #000000;
}

.transcript-line:hover .transcript-timestamp {
    color: #7b1fa2; /* Darker purple on hover */
}

/* --- THIS BLOCK IS UPDATED --- */
/* --- Keyframe animation for the gradient --- */
@keyframes rotBGimg {
    from {
        /* Start centered and at 0 degrees */
        transform: translate(-50%, -50%) rotate(0deg);
    }
    to {
        /* End centered and at 360 degrees */
        transform: translate(-50%, -50%) rotate(360deg);
    }
}