<div class="offcanvas offcanvas-end" tabindex="-1" id="assistantOffcanvas" 
     aria-labelledby="assistantOffcanvasLabel"
     data-video-id="{{ video.youtube_id }}">

  <div class="offcanvas-header assistant-header">
    
    <div class="assistant-header-content">
      <h5 class="offcanvas-title" id="assistantOffcanvasLabel">
        <i class="fas fa-robot me-2"></i> AI Assistant
      </h5>
    </div>
    
    <div class="assistant-header-controls">
      
      <button type="button" class="btn btn-sm btn-outline-secondary me-2" id="assistant-history-btn" title="View History">
        <i class="fas fa-history"></i>
      </button>
      <button type="button" class="btn btn-sm btn-outline-secondary me-2" id="assistant-new-chat-btn" title="New Chat">
        <i class="fas fa-plus"></i>
      </button>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
  </div>

  <div class="offcanvas-body assistant-body">

    <div id="assistant-main-view">
      <div id="assistant-chat-box" class="assistant-chat-box">
        </div>
      
      <form id="assistant-form" class="assistant-form">
        <div class="input-group">
          <input type="text" id="assistant-input" class="form-control" placeholder="Ask about this video..." autocomplete="off">
          <button id="assistant-send-btn" class="btn btn-primary" type="submit">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </form>
    </div>
    
    <div id="assistant-history-view" style="display: none;">
      <h5 class="text-center mb-3">Chat History</h5>
      <div id="assistant-history-list" class="assistant-history-list">
        </div>
    </div>
    </div>
</div>